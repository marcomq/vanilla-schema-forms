{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Map_of_Route",
  "type": "object",
  "additionalProperties": {
    "$ref": "#/$defs/Route"
  },
  "$defs": {
    "AmqpConfig": {
      "description": "General AMQP connection configuration.",
      "type": "object",
      "properties": {
        "delayed_ack": {
          "description": "(Publisher only) If true, do not wait for an acknowledgement when sending to broker. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "exchange": {
          "description": "The exchange to publish to or bind the queue to.",
          "type": ["string", "null"]
        },
        "no_persistence": {
          "description": "If true, declare queues as non-durable (transient). Defaults to false. Affects both Consumer (queue durability) and Publisher (message persistence).",
          "type": "boolean",
          "default": false
        },
        "password": {
          "description": "Optional password for authentication.",
          "type": ["string", "null"]
        },
        "prefetch_count": {
          "description": "(Consumer only) Number of messages to prefetch. Defaults to 100.",
          "type": ["integer", "null"],
          "format": "uint16",
          "maximum": 65535,
          "minimum": 0
        },
        "queue": {
          "description": "The AMQP queue name.",
          "type": ["string", "null"]
        },
        "subscribe_mode": {
          "description": "(Consumer only) If true, act as a **Subscriber** (fan-out). Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "url": {
          "description": "AMQP connection URI. The `lapin` client connects to a single host specified in the URI.\nFor high availability, provide the address of a load balancer or use DNS resolution\nthat points to multiple brokers. Example: \"amqp://localhost:5672/vhost\".",
          "type": "string"
        },
        "username": {
          "description": "Optional username for authentication.",
          "type": ["string", "null"]
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "AwsConfig": {
      "type": "object",
      "properties": {
        "access_key": {
          "description": "AWS Access Key ID.",
          "type": ["string", "null"]
        },
        "endpoint_url": {
          "description": "Custom endpoint URL (e.g., for LocalStack).",
          "type": ["string", "null"]
        },
        "max_messages": {
          "description": "(Consumer only) Maximum number of messages to receive in a batch (1-10).",
          "type": ["integer", "null"],
          "format": "int32",
          "maximum": 10,
          "minimum": 1
        },
        "queue_url": {
          "description": "The SQS queue URL. Required for Consumer. Optional for Publisher if `topic_arn` is set.",
          "type": ["string", "null"]
        },
        "region": {
          "description": "AWS Region (e.g., \"us-east-1\").",
          "type": ["string", "null"]
        },
        "secret_key": {
          "description": "AWS Secret Access Key.",
          "type": ["string", "null"]
        },
        "session_token": {
          "description": "AWS Session Token.",
          "type": ["string", "null"]
        },
        "topic_arn": {
          "description": "(Publisher only) The SNS topic ARN.",
          "type": ["string", "null"]
        },
        "wait_time_seconds": {
          "description": "(Consumer only) Wait time for long polling in seconds (0-20).",
          "type": ["integer", "null"],
          "format": "int32",
          "maximum": 20,
          "minimum": 0
        }
      },
      "additionalProperties": false
    },
    "DeadLetterQueueMiddleware": {
      "description": "Dead-Letter Queue (DLQ) middleware configuration. It is recommended that the\nendpoint is also using a retry to avoid message loss",
      "type": "object",
      "properties": {
        "endpoint": {
          "description": "The endpoint to send failed messages to.",
          "$ref": "#/$defs/Endpoint"
        }
      },
      "additionalProperties": false,
      "required": ["endpoint"]
    },
    "DeduplicationMiddleware": {
      "description": "Deduplication middleware configuration.",
      "type": "object",
      "properties": {
        "sled_path": {
          "description": "Path to the Sled database directory.",
          "type": "string"
        },
        "ttl_seconds": {
          "description": "Time-to-live for deduplication entries in seconds.",
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        }
      },
      "additionalProperties": false,
      "required": ["sled_path", "ttl_seconds"]
    },
    "DelayMiddleware": {
      "type": "object",
      "properties": {
        "delay_ms": {
          "description": "Delay duration in milliseconds.",
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        }
      },
      "additionalProperties": false,
      "required": ["delay_ms"]
    },
    "Endpoint": {
      "description": "Represents a connection point for messages, which can be a source (input) or a sink (output).",
      "type": "object",
      "properties": {
        "middlewares": {
          "description": "(Optional) A list of middlewares to apply to the endpoint.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/Middleware"
          }
        }
      },
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "aws": {
              "$ref": "#/$defs/AwsConfig"
            }
          },
          "required": ["aws"]
        },
        {
          "type": "object",
          "properties": {
            "kafka": {
              "$ref": "#/$defs/KafkaConfig"
            }
          },
          "required": ["kafka"]
        },
        {
          "type": "object",
          "properties": {
            "nats": {
              "$ref": "#/$defs/NatsConfig"
            }
          },
          "required": ["nats"]
        },
        {
          "type": "object",
          "properties": {
            "file": {
              "$ref": "#/$defs/FileConfig"
            }
          },
          "required": ["file"]
        },
        {
          "type": "object",
          "properties": {
            "static": {
              "type": "string"
            }
          },
          "required": ["static"]
        },
        {
          "type": "object",
          "properties": {
            "memory": {
              "$ref": "#/$defs/MemoryConfig"
            }
          },
          "required": ["memory"]
        },
        {
          "type": "object",
          "properties": {
            "amqp": {
              "$ref": "#/$defs/AmqpConfig"
            }
          },
          "required": ["amqp"]
        },
        {
          "type": "object",
          "properties": {
            "mongodb": {
              "$ref": "#/$defs/MongoDbConfig"
            }
          },
          "required": ["mongodb"]
        },
        {
          "type": "object",
          "properties": {
            "mqtt": {
              "$ref": "#/$defs/MqttConfig"
            }
          },
          "required": ["mqtt"]
        },
        {
          "type": "object",
          "properties": {
            "http": {
              "$ref": "#/$defs/HttpConfig"
            }
          },
          "required": ["http"]
        },
        {
          "type": "object",
          "properties": {
            "ibmmq": {
              "$ref": "#/$defs/IbmMqConfig"
            }
          },
          "required": ["ibmmq"]
        },
        {
          "type": "object",
          "properties": {
            "zeromq": {
              "$ref": "#/$defs/ZeroMqConfig"
            }
          },
          "required": ["zeromq"]
        },
        {
          "type": "object",
          "properties": {
            "fanout": {
              "type": "array",
              "items": {
                "$ref": "#/$defs/Endpoint"
              }
            }
          },
          "required": ["fanout"]
        },
        {
          "type": "object",
          "properties": {
            "switch": {
              "$ref": "#/$defs/SwitchConfig"
            }
          },
          "required": ["switch"]
        },
        {
          "type": "object",
          "properties": {
            "response": {
              "$ref": "#/$defs/ResponseConfig"
            }
          },
          "required": ["response"]
        },
        {
          "type": "object",
          "properties": {
            "custom": {
              "type": "object",
              "properties": {
                "config": true,
                "name": {
                  "type": "string"
                }
              },
              "required": ["name", "config"]
            }
          },
          "required": ["custom"]
        },
        {
          "type": "object",
          "properties": {
            "null": {
              "type": "null"
            }
          },
          "required": ["null"]
        }
      ],
      "unevaluatedProperties": false
    },
    "FileConfig": {
      "type": "object",
      "properties": {
        "path": {
          "description": "Path to the file.",
          "type": "string"
        },
        "subscribe_mode": {
          "description": "(Consumer only) If true, acts in **Subscriber mode** (like `tail -f`), reading new lines as they are written.\nIf false (default), acts in Consumer mode, reading lines and removing them from the file (queue behavior).",
          "type": "boolean",
          "default": false
        }
      },
      "required": ["path"]
    },
    "HttpConfig": {
      "description": "General HTTP connection configuration.",
      "type": "object",
      "properties": {
        "message_id_header": {
          "description": "(Consumer only) Header key to extract the message ID from. Defaults to \"message-id\".",
          "type": ["string", "null"]
        },
        "request_timeout_ms": {
          "description": "(Consumer only) Timeout for request-reply operations in milliseconds. Defaults to 30000ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "url": {
          "description": "For consumers, the listen address (e.g., \"0.0.0.0:8080\"). For publishers, the target URL.",
          "type": "string"
        },
        "workers": {
          "description": "(Consumer only) Number of worker threads to use. Defaults to 0 for unlimited.",
          "type": ["integer", "null"],
          "format": "uint",
          "minimum": 0
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "IbmMqConfig": {
      "description": "Connection settings for the IBM MQ Queue Manager.",
      "type": "object",
      "properties": {
        "channel": {
          "description": "Required. Server Connection (SVRCONN) Channel name defined on the QM.",
          "type": "string"
        },
        "cipher_spec": {
          "description": "TLS CipherSpec (e.g., `ANY_TLS12`). Optional; required for encrypted connections.",
          "type": ["string", "null"]
        },
        "internal_buffer_size": {
          "description": "Internal buffer size for the channel. Defaults to 100.",
          "type": ["integer", "null"],
          "format": "uint",
          "default": null,
          "minimum": 0
        },
        "max_message_size": {
          "description": "Maximum message size in bytes (default: 4MB). Optional.",
          "type": "integer",
          "format": "uint",
          "default": 4194304,
          "minimum": 0
        },
        "password": {
          "description": "Password for authentication. Optional; required if the channel enforces authentication.",
          "type": ["string", "null"]
        },
        "queue": {
          "description": "Target Queue name for point-to-point messaging. Optional if `topic` is set; defaults to route name if omitted.",
          "type": ["string", "null"]
        },
        "queue_manager": {
          "description": "Required. Name of the Queue Manager to connect to (e.g., `QM1`).",
          "type": "string"
        },
        "tls": {
          "description": "TLS configuration settings (e.g., keystore paths). Optional.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "topic": {
          "description": "Target Topic string for Publish/Subscribe. If set, enables **Subscriber mode** (Consumer) or publishes to a topic (Publisher). Optional if `queue` is set.",
          "type": ["string", "null"]
        },
        "url": {
          "description": "Required. Connection URL in `host(port)` format. Supports comma-separated list for failover (e.g., `host1(1414),host2(1414)`).",
          "type": "string"
        },
        "user": {
          "description": "Username for authentication. Optional; required if the channel enforces authentication.",
          "type": ["string", "null"]
        },
        "wait_timeout_ms": {
          "description": "(Consumer only) Polling timeout in milliseconds (default: 1000ms). Optional.",
          "type": "integer",
          "format": "int32",
          "default": 1000
        }
      },
      "additionalProperties": false,
      "required": ["url", "queue_manager", "channel"]
    },
    "KafkaConfig": {
      "description": "General Kafka connection configuration.",
      "type": "object",
      "properties": {
        "consumer_options": {
          "description": "(Consumer only) Additional librdkafka consumer configuration options (key-value pairs).",
          "type": ["array", "null"],
          "default": null,
          "items": {
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "string"
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "delayed_ack": {
          "description": "(Publisher only) If true, do not wait for an acknowledgement when sending to broker. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "group_id": {
          "description": "(Consumer only) Consumer group ID.\nIf not provided, the consumer acts in **Subscriber mode**: it generates a unique, ephemeral group ID and starts consuming from the latest offset.",
          "type": ["string", "null"]
        },
        "password": {
          "description": "Optional password for SASL authentication.",
          "type": ["string", "null"]
        },
        "producer_options": {
          "description": "(Publisher only) Additional librdkafka producer configuration options (key-value pairs).",
          "type": ["array", "null"],
          "default": null,
          "items": {
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "string"
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "topic": {
          "description": "The Kafka topic to produce to or consume from.",
          "type": ["string", "null"]
        },
        "url": {
          "description": "Comma-separated list of Kafka broker URLs.",
          "type": "string"
        },
        "username": {
          "description": "Optional username for SASL authentication.",
          "type": ["string", "null"]
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "MemoryConfig": {
      "type": "object",
      "properties": {
        "capacity": {
          "description": "The capacity of the channel. Defaults to 100.",
          "type": ["integer", "null"],
          "format": "uint",
          "minimum": 0
        },
        "enable_nack": {
          "description": "(Consumer only) If true, enables NACK support (re-queuing), which requires cloning messages. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "request_reply": {
          "description": "(Publisher only) If true, send() waits for a response.",
          "type": "boolean",
          "default": false
        },
        "request_timeout_ms": {
          "description": "(Publisher only) Timeout for request-reply operations in milliseconds. Defaults to 30000ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "subscribe_mode": {
          "description": "(Consumer only) If true, act as a **Subscriber** (fan-out). Defaults to false (queue).",
          "type": "boolean",
          "default": false
        },
        "topic": {
          "description": "The topic name for the in-memory channel.",
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": ["topic"]
    },
    "MetricsMiddleware": {
      "description": "Metrics middleware configuration. It's currently a struct without fields\nbut can be extended later. Its presence in the config enables the middleware.",
      "type": "object",
      "additionalProperties": false
    },
    "Middleware": {
      "description": "An enumeration of all supported middleware types.",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "deduplication": {
              "$ref": "#/$defs/DeduplicationMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["deduplication"]
        },
        {
          "type": "object",
          "properties": {
            "metrics": {
              "$ref": "#/$defs/MetricsMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["metrics"]
        },
        {
          "type": "object",
          "properties": {
            "dlq": {
              "$ref": "#/$defs/DeadLetterQueueMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["dlq"]
        },
        {
          "type": "object",
          "properties": {
            "retry": {
              "$ref": "#/$defs/RetryMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["retry"]
        },
        {
          "type": "object",
          "properties": {
            "random_panic": {
              "$ref": "#/$defs/RandomPanicMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["random_panic"]
        },
        {
          "type": "object",
          "properties": {
            "delay": {
              "$ref": "#/$defs/DelayMiddleware"
            }
          },
          "additionalProperties": false,
          "required": ["delay"]
        },
        {
          "type": "object",
          "properties": {
            "custom": {
              "type": "object",
              "properties": {
                "config": true,
                "name": {
                  "type": "string"
                }
              },
              "required": ["name", "config"]
            }
          },
          "additionalProperties": false,
          "required": ["custom"]
        }
      ]
    },
    "MongoDbConfig": {
      "description": "General MongoDB connection configuration.",
      "type": "object",
      "properties": {
        "change_stream": {
          "description": "(Consumer only) If true, use Change Streams (**Subscriber mode**). Defaults to false (polling/consumer mode).",
          "type": "boolean",
          "default": false
        },
        "collection": {
          "description": "The MongoDB collection name.",
          "type": ["string", "null"]
        },
        "database": {
          "description": "The database name.",
          "type": "string"
        },
        "password": {
          "description": "Optional password. Takes precedence over any credentials embedded in the `url`.\nUse embedded URL credentials for simple one-off connections but prefer explicit username/password fields (or environment-sourced secrets) for clarity and secret management in production.",
          "type": ["string", "null"]
        },
        "polling_interval_ms": {
          "description": "(Consumer only) Polling interval in milliseconds for the consumer (when not using Change Streams). Defaults to 100ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "reply_polling_ms": {
          "description": "(Publisher only) Polling interval in milliseconds for the publisher when waiting for a reply. Defaults to 50ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "request_reply": {
          "description": "(Publisher only) If true, the publisher will wait for a response in a dedicated collection. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "request_timeout_ms": {
          "description": "(Publisher only) Timeout for request-reply operations in milliseconds. Defaults to 30000ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "ttl_seconds": {
          "description": "(Publisher only) TTL in seconds for documents created by the publisher. If set, a TTL index is created.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "url": {
          "description": "MongoDB connection string URI. Can contain a comma-separated list of hosts for a replica set.\nCredentials provided via the separate `username` and `password` fields take precedence over any credentials embedded in the URL.",
          "type": "string"
        },
        "username": {
          "description": "Optional username. Takes precedence over any credentials embedded in the `url`.\nUse embedded URL credentials for simple one-off connections but prefer explicit username/password fields (or environment-sourced secrets) for clarity and secret management in production.",
          "type": ["string", "null"]
        }
      },
      "additionalProperties": false,
      "required": ["url", "database"]
    },
    "MqttConfig": {
      "description": "General MQTT connection configuration.",
      "type": "object",
      "properties": {
        "clean_session": {
          "description": "(Consumer only) If true, start with a clean session. Defaults to false (persistent session). Setting this to true effectively enables **Subscriber mode** (ephemeral).",
          "type": "boolean",
          "default": false
        },
        "client_id": {
          "description": "Optional client ID. If not provided, one is generated or derived from route name.",
          "type": ["string", "null"]
        },
        "delayed_ack": {
          "description": "(Publisher only) If true, messages are acknowledged immediately upon receipt (auto-ack).\nIf false (default), messages are acknowledged after processing (manual-ack).",
          "type": "boolean",
          "default": false
        },
        "keep_alive_seconds": {
          "description": "Keep-alive interval in seconds. Defaults to 20.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "max_inflight": {
          "description": "Maximum number of inflight messages.",
          "type": ["integer", "null"],
          "format": "uint16",
          "maximum": 65535,
          "minimum": 0
        },
        "password": {
          "description": "Optional password for authentication.",
          "type": ["string", "null"]
        },
        "protocol": {
          "description": "MQTT protocol version (V3 or V5). Defaults to V5.",
          "$ref": "#/$defs/MqttProtocol",
          "default": "v5"
        },
        "qos": {
          "description": "Quality of Service level (0, 1, or 2). Defaults to 1.",
          "type": ["integer", "null"],
          "format": "uint8",
          "maximum": 255,
          "minimum": 0
        },
        "queue_capacity": {
          "description": "Capacity of the internal channel for incoming messages. Defaults to 100.",
          "type": ["integer", "null"],
          "format": "uint",
          "minimum": 0
        },
        "session_expiry_interval": {
          "description": "Session expiry interval in seconds (MQTT v5 only).",
          "type": ["integer", "null"],
          "format": "uint32",
          "minimum": 0
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "topic": {
          "description": "The MQTT topic.",
          "type": ["string", "null"]
        },
        "url": {
          "description": "MQTT broker URL (e.g., \"tcp://localhost:1883\"). Does not support multiple hosts.",
          "type": "string"
        },
        "username": {
          "description": "Optional username for authentication.",
          "type": ["string", "null"]
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "MqttProtocol": {
      "type": "string",
      "enum": ["v5", "v3"]
    },
    "NatsConfig": {
      "description": "General NATS connection configuration.",
      "type": "object",
      "properties": {
        "delayed_ack": {
          "description": "(Publisher only) If true, do not wait for an acknowledgement when sending to broker. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "no_jetstream": {
          "description": "If no_jetstream: true, use Core NATS (fire-and-forget) instead of JetStream. Defaults to false.",
          "type": "boolean",
          "default": false
        },
        "password": {
          "description": "Optional password for authentication.",
          "type": ["string", "null"]
        },
        "prefetch_count": {
          "description": "(Consumer only) Number of messages to prefetch from the consumer. Defaults to 10000.",
          "type": ["integer", "null"],
          "format": "uint",
          "minimum": 0
        },
        "request_reply": {
          "description": "(Publisher only) If true, the publisher uses the request-reply pattern.\nIt sends a request and waits for a response (using `core_client.request_with_headers()`).\nDefaults to false.",
          "type": "boolean",
          "default": false
        },
        "request_timeout_ms": {
          "description": "(Publisher only) Timeout for request-reply operations in milliseconds. Defaults to 30000ms.",
          "type": ["integer", "null"],
          "format": "uint64",
          "minimum": 0
        },
        "stream": {
          "description": "(Consumer only). The JetStream stream name. Required for Consumers.",
          "type": ["string", "null"]
        },
        "stream_max_bytes": {
          "description": "(Publisher only) Maximum total bytes in the stream (if created by the bridge). Defaults to 1GB.",
          "type": ["integer", "null"],
          "format": "int64"
        },
        "stream_max_messages": {
          "description": "(Publisher only) Maximum number of messages in the stream (if created by the bridge). Defaults to 1,000,000.",
          "type": ["integer", "null"],
          "format": "int64"
        },
        "subject": {
          "description": "The NATS subject to publish to or subscribe to.",
          "type": ["string", "null"]
        },
        "subscriber_mode": {
          "description": "(Consumer only) If true, use ephemeral **Subscriber mode**. Defaults to false (durable consumer).",
          "type": "boolean",
          "default": false
        },
        "tls": {
          "description": "TLS configuration.",
          "$ref": "#/$defs/TlsConfig",
          "default": {
            "accept_invalid_certs": false,
            "ca_file": null,
            "cert_file": null,
            "cert_password": null,
            "key_file": null,
            "required": false
          }
        },
        "token": {
          "description": "Optional token for authentication.",
          "type": ["string", "null"]
        },
        "url": {
          "description": "Comma-separated list of NATS server URLs (e.g., \"nats://localhost:4222,nats://localhost:4223\").",
          "type": "string"
        },
        "username": {
          "description": "Optional username for authentication.",
          "type": ["string", "null"]
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "RandomPanicMiddleware": {
      "type": "object",
      "properties": {
        "probability": {
          "description": "Probability of panic (0.0 to 1.0).",
          "type": "number",
          "format": "double"
        }
      },
      "additionalProperties": false,
      "required": ["probability"]
    },
    "ResponseConfig": {
      "type": "object",
      "additionalProperties": false
    },
    "RetryMiddleware": {
      "type": "object",
      "properties": {
        "initial_interval_ms": {
          "description": "Initial retry interval in milliseconds. Defaults to 100ms.",
          "type": "integer",
          "format": "uint64",
          "default": 100,
          "minimum": 0
        },
        "max_attempts": {
          "description": "Maximum number of retry attempts. Defaults to 3.",
          "type": "integer",
          "format": "uint",
          "default": 3,
          "minimum": 0
        },
        "max_interval_ms": {
          "description": "Maximum retry interval in milliseconds. Defaults to 5000ms.",
          "type": "integer",
          "format": "uint64",
          "default": 5000,
          "minimum": 0
        },
        "multiplier": {
          "description": "Multiplier for exponential backoff. Defaults to 2.0.",
          "type": "number",
          "format": "double",
          "default": 2.0
        }
      },
      "additionalProperties": false
    },
    "Route": {
      "description": "Defines a single message processing route from an input to an output.",
      "type": "object",
      "properties": {
        "batch_size": {
          "description": "(Optional) Number of messages to process in a single batch. Defaults to 1.",
          "type": "integer",
          "format": "uint",
          "default": 1,
          "minimum": 1
        },
        "commit_concurrency_limit": {
          "description": "(Optional) The maximum number of concurrent commit tasks allowed. Defaults to 4096.",
          "type": "integer",
          "format": "uint",
          "default": 4096,
          "minimum": 0
        },
        "concurrency": {
          "description": "(Optional) Number of concurrent processing tasks for this route. Defaults to 1.",
          "type": "integer",
          "format": "uint",
          "default": 1,
          "minimum": 1
        },
        "input": {
          "description": "The input/source endpoint for the route.",
          "$ref": "#/$defs/Endpoint"
        },
        "output": {
          "description": "The output/sink endpoint for the route.",
          "$ref": "#/$defs/Endpoint",
          "default": {
            "middlewares": [],
            "null": null
          }
        }
      },
      "additionalProperties": false,
      "required": ["input"]
    },
    "SwitchConfig": {
      "type": "object",
      "properties": {
        "cases": {
          "description": "A map of values to endpoints.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/Endpoint"
          }
        },
        "default": {
          "description": "The default endpoint if no case matches.",
          "anyOf": [
            {
              "$ref": "#/$defs/Endpoint"
            },
            {
              "type": "null"
            }
          ]
        },
        "metadata_key": {
          "description": "The metadata key to inspect for routing decisions.",
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": ["metadata_key", "cases"]
    },
    "TlsConfig": {
      "description": "TLS configuration for secure connections.",
      "type": "object",
      "properties": {
        "accept_invalid_certs": {
          "description": "If true, disable server certificate verification (insecure).",
          "type": "boolean",
          "default": false
        },
        "ca_file": {
          "description": "Path to the CA certificate file.",
          "type": ["string", "null"]
        },
        "cert_file": {
          "description": "Path to the client certificate file (PEM).",
          "type": ["string", "null"]
        },
        "cert_password": {
          "description": "Password for the private key (if encrypted).",
          "type": ["string", "null"]
        },
        "key_file": {
          "description": "Path to the client private key file (PEM).",
          "type": ["string", "null"]
        },
        "required": {
          "description": "If true, enable TLS/SSL.",
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["required"]
    },
    "ZeroMqConfig": {
      "type": "object",
      "properties": {
        "bind": {
          "description": "If true, bind to the address. If false, connect.",
          "type": "boolean",
          "default": false
        },
        "internal_buffer_size": {
          "description": "Internal buffer size for the channel. Defaults to 128.",
          "type": ["integer", "null"],
          "format": "uint",
          "default": null,
          "minimum": 0
        },
        "socket_type": {
          "description": "The socket type (PUSH, PULL, PUB, SUB, REQ, REP).",
          "anyOf": [
            {
              "$ref": "#/$defs/ZeroMqSocketType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "topic": {
          "description": "(Consumer only) The ZeroMQ topic (for SUB sockets).",
          "type": ["string", "null"]
        },
        "url": {
          "description": "The ZeroMQ URL (e.g., \"tcp://127.0.0.1:5555\").",
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "ZeroMqSocketType": {
      "type": "string",
      "enum": ["push", "pull", "pub", "sub", "req", "rep"]
    }
  }
}
